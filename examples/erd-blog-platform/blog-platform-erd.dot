digraph "BlogPlatformERD" {
  rankdir = "TB";
  splines = "true";
  nodesep = 1.5;
  ranksep = 2.5;
  bgcolor = "white";
  fontname = "Helvetica";
  fontsize = 14;
  pad = 0.8;
  concentrate = false;
  edge [
    fontsize = 11;
    fontname = "Helvetica";
    fontcolor = "#424242";
    labeldistance = 2;
    labelangle = 0;
  ];
  node [
    fontname = "Helvetica";
  ];
  subgraph "cluster_core" {
    label = "CORE ENTITIES";
    style = "rounded,filled";
    color = "#3F51B5";
    fillcolor = "#E8EAF620";
    fontsize = 16;
    fontname = "Helvetica-Bold";
    penwidth = 2;
    margin = 30;
    rank = "same";
    "users" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#E8EAF6" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#3F51B5"><FONT COLOR="white" POINT-SIZE="13"><B>USERS</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="id" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="11">ğ™‹ğ™† id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="username"><FONT POINT-SIZE="11">username</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(50)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="email"><FONT POINT-SIZE="11">email</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(255)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="password_hash"><FONT POINT-SIZE="11">password_hash</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(255)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="created_at"><FONT POINT-SIZE="11">created_at</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TIMESTAMP</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="updated_at"><FONT POINT-SIZE="11">updated_at</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TIMESTAMP</FONT></TD></TR>
</TABLE>>;
    ];
    "posts" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#E8EAF6" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#3F51B5"><FONT COLOR="white" POINT-SIZE="13"><B>POSTS</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="id" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="11">ğ™‹ğ™† id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="title"><FONT POINT-SIZE="11">title</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(255)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="slug"><FONT POINT-SIZE="11">slug</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(255)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="content"><FONT POINT-SIZE="11">content</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TEXT</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="author_id" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="11">ğ™ğ™† author_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="status"><FONT POINT-SIZE="11">status</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">ENUM</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="published_at"><FONT POINT-SIZE="11">published_at</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TIMESTAMP</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="created_at"><FONT POINT-SIZE="11">created_at</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TIMESTAMP</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="updated_at"><FONT POINT-SIZE="11">updated_at</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TIMESTAMP</FONT></TD></TR>
</TABLE>>;
    ];
    "comments" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#E8EAF6" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#3F51B5"><FONT COLOR="white" POINT-SIZE="13"><B>COMMENTS</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="id" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="11">ğ™‹ğ™† id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="post_id" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="11">ğ™ğ™† post_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="user_id" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="11">ğ™ğ™† user_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="parent_id" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="11">ğ™ğ™† parent_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFE0B2"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="content"><FONT POINT-SIZE="11">content</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TEXT</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="approved"><FONT POINT-SIZE="11">approved</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">BOOLEAN</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="created_at"><FONT POINT-SIZE="11">created_at</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TIMESTAMP</FONT></TD></TR>
</TABLE>>;
    ];
  }
  subgraph "cluster_junction" {
    label = "JUNCTION TABLES";
    style = "rounded,filled";
    color = "#FF9800";
    fillcolor = "#FFF3E020";
    fontsize = 16;
    fontname = "Helvetica-Bold";
    penwidth = 2;
    margin = 30;
    "post_categories" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#FFF3E0" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#FF9800"><FONT COLOR="white" POINT-SIZE="13"><B>POST_CATEGORIES</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="post_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† post_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="category_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† category_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR>
</TABLE>>;
    ];
    "post_tags" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#FFF3E0" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#FF9800"><FONT COLOR="white" POINT-SIZE="13"><B>POST_TAGS</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="post_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† post_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="tag_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† tag_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR>
</TABLE>>;
    ];
    "user_role_assignments" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#FFF3E0" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#FF9800"><FONT COLOR="white" POINT-SIZE="13"><B>USER_ROLE_ASSIGNMENTS</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="user_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† user_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="role_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† role_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR>
</TABLE>>;
    ];
  }
  subgraph "cluster_lookup" {
    label = "LOOKUP TABLES";
    style = "rounded,filled";
    color = "#4CAF50";
    fillcolor = "#E8F5E920";
    fontsize = 16;
    fontname = "Helvetica-Bold";
    penwidth = 2;
    margin = 30;
    "categories" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#E8F5E9" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#4CAF50"><FONT COLOR="white" POINT-SIZE="13"><B>CATEGORIES</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="id" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="11">ğ™‹ğ™† id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="name"><FONT POINT-SIZE="11">name</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(100)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="slug"><FONT POINT-SIZE="11">slug</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(100)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="description"><FONT POINT-SIZE="11">description</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TEXT</FONT></TD></TR>
</TABLE>>;
    ];
    "tags" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#E8F5E9" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#4CAF50"><FONT COLOR="white" POINT-SIZE="13"><B>TAGS</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="id" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="11">ğ™‹ğ™† id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="name"><FONT POINT-SIZE="11">name</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(50)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="slug"><FONT POINT-SIZE="11">slug</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(50)</FONT></TD></TR>
</TABLE>>;
    ];
  }
  subgraph "cluster_user_ext" {
    label = "USER EXTENSIONS";
    style = "rounded,filled";
    color = "#9C27B0";
    fillcolor = "#F3E5F520";
    fontsize = 16;
    fontname = "Helvetica-Bold";
    penwidth = 2;
    margin = 30;
    "user_profiles" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#F3E5F5" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#9C27B0"><FONT COLOR="white" POINT-SIZE="13"><B>USER_PROFILES</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="user_id" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="11">ğ™ğ™† ğ™‹ğ™† user_id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#FFF9C4"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="bio"><FONT POINT-SIZE="11">bio</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">TEXT</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="avatar_url"><FONT POINT-SIZE="11">avatar_url</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(255)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="website"><FONT POINT-SIZE="11">website</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(255)</FONT></TD></TR>
</TABLE>>;
    ];
    "user_roles" [
      shape = "plaintext";
      label = <<TABLE BORDER="1" CELLBORDER="0" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#F3E5F5" STYLE="ROUNDED">
  <TR><TD COLSPAN="2" BGCOLOR="#9C27B0"><FONT COLOR="white" POINT-SIZE="13"><B>USER_ROLES</B></FONT></TD></TR>
  <TR><TD ALIGN="LEFT" PORT="id" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="11">ğ™‹ğ™† id</FONT></TD><TD ALIGN="LEFT" BGCOLOR="#E3F2FD"><FONT POINT-SIZE="10" COLOR="#666666">UUID</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="name"><FONT POINT-SIZE="11">name</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">VARCHAR(50)</FONT></TD></TR><TR><TD ALIGN="LEFT" PORT="permissions"><FONT POINT-SIZE="11">permissions</FONT></TD><TD ALIGN="LEFT"><FONT POINT-SIZE="10" COLOR="#666666">JSONB</FONT></TD></TR>
</TABLE>>;
    ];
  }
  "users":"id":"s" -> "user_profiles":"user_id":"n" [
    label = "1:1";
    color = "#1976D2";
    penwidth = 2.5;
    arrowhead = "none";
    arrowtail = "none";
    style = "bold";
    fontcolor = "#1976D2";
    constraint = true;
    weight = 10;
    headport = "n";
    tailport = "s";
  ];
  "users":"id":"e" -> "posts":"author_id":"w" [
    label = "1:N\n(author)";
    color = "#0288D1";
    penwidth = 2;
    arrowhead = "crow";
    arrowtail = "tee";
    fontcolor = "#0288D1";
    constraint = false;
    weight = 2;
    headport = "w";
    tailport = "e";
  ];
  "posts":"id":"e" -> "comments":"post_id":"w" [
    label = "1:N";
    color = "#0288D1";
    penwidth = 2;
    arrowhead = "crow";
    arrowtail = "tee";
    fontcolor = "#0288D1";
    constraint = false;
    weight = 2;
    headport = "w";
    tailport = "e";
  ];
  "users":"id":"ne" -> "comments":"user_id":"nw" [
    label = "1:N\n(author)";
    color = "#0288D1";
    penwidth = 2;
    arrowhead = "crow";
    arrowtail = "tee";
    fontcolor = "#0288D1";
    constraint = false;
    weight = 1;
    headport = "nw";
    tailport = "ne";
  ];
  "comments":"parent_id":"e" -> "comments":"id":"e" [
    label = "parent\n(self-ref)";
    color = "#7B1FA2";
    penwidth = 2;
    arrowhead = "crow";
    arrowtail = "odot";
    fontcolor = "#7B1FA2";
    constraint = false;
    weight = 1;
  ];
  "posts":"id":"s" -> "post_categories":"post_id":"n" [
    color = "#F57C00";
    penwidth = 1.8;
    arrowhead = "crow";
    style = "dashed";
    constraint = true;
    weight = 8;
    headport = "n";
    tailport = "s";
  ];
  "post_categories":"category_id":"s" -> "categories":"id":"n" [
    label = "M:N";
    color = "#F57C00";
    penwidth = 1.8;
    arrowhead = "crow";
    style = "dashed";
    fontcolor = "#F57C00";
    constraint = true;
    weight = 8;
    headport = "n";
    tailport = "s";
  ];
  "posts":"id":"se" -> "post_tags":"post_id":"n" [
    color = "#F57C00";
    penwidth = 1.8;
    arrowhead = "crow";
    style = "dashed";
    constraint = false;
    weight = 5;
    headport = "n";
    tailport = "se";
  ];
  "post_tags":"tag_id":"s" -> "tags":"id":"n" [
    label = "M:N";
    color = "#F57C00";
    penwidth = 1.8;
    arrowhead = "crow";
    style = "dashed";
    fontcolor = "#F57C00";
    constraint = true;
    weight = 8;
    headport = "n";
    tailport = "s";
  ];
  "users":"id":"sw" -> "user_role_assignments":"user_id":"n" [
    color = "#F57C00";
    penwidth = 1.8;
    arrowhead = "crow";
    style = "dashed";
    constraint = true;
    weight = 5;
    headport = "n";
    tailport = "sw";
  ];
  "user_role_assignments":"role_id":"s" -> "user_roles":"id":"n" [
    label = "M:N";
    color = "#F57C00";
    penwidth = 1.8;
    arrowhead = "crow";
    style = "dashed";
    fontcolor = "#F57C00";
    constraint = true;
    weight = 8;
    headport = "n";
    tailport = "s";
  ];
  "users" -> "user_profiles" [
    style = "invis";
    constraint = true;
  ];
  "posts" -> "post_categories" [
    style = "invis";
    constraint = true;
  ];
  "comments" -> "post_tags" [
    style = "invis";
    constraint = true;
  ];
}